# 2025-01-29

## EC2 Disk Space Incident - LESSON LEARNED

**What happened:** Server appeared to shut down but actually ran out of disk space (was ~6.8GB root disk)

**Root cause:**
- npm cache
- Node modules  
- llama/CUDA binaries
- snap packages
- logs

All slowly filled disk to 100%, causing:
- Linux couldn't write logs/temp files
- Bot crashed
- Services couldn't restart
- SSH became unstable

**Resolution:** Disk expanded to 38GB

**Prevention implemented:**
- Created `/home/ubuntu/clawd/scripts/disk-monitor.sh` - monitors disk at 80% threshold
- Set up cron job to check every 6 hours and alert if over threshold

**Future maintenance:**
- Periodically clean npm cache: `npm cache clean --force`
- Remove unused node_modules
- Check for log rotation
- Monitor snap package growth
